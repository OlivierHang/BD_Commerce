{% extends 'base.html.twig' %}

{% block title %}Panier - BD Commerce
{% endblock %}

{% block content %}

	{% if panier is defined %}
		<pre>
		    {{ dump(panier) }}
		</pre>

		<table class="table">
			<thead>
				<tr>
					<th scope="col">Ref</th>
					<th scope="col">Titre</th>
					<th scope="col">Quantite</th>
					<th scope="col">Prix (unite)</th>
					<th scope="col">Total</th>
					<th scope="col"></th>
				</tr>
			</thead>
			<tbody>
				{% for item in panier %}
					<tr>
						<td>
							{{ item.bd.ref }}
						</td>
						<td>{{ item.bd.titre }}</td>
						<td>
							<span height="200px">{{ item.quantite }}
							</span>
							<a href="{{ path('add_to_panier', {'ref' : item.bd.ref}) }}"><img src="{{ asset('assets/img/plus.png') }}" height="10px"></a>
							<a href="{{ path('decrease_from_panier', {'ref' : item.bd.ref}) }}"><img src="{{ asset('assets/img/minus.png') }}" height="10px"></a>
						</td>
						<td>{{ item.bd.prixPublic }}€</td>
						<td>{{ item.bd.prixPublic * item.quantite }}€</td>
						<td>
							<a href="{{ path('delete_from_panier', { 'ref' : item.bd.ref }) }}"><img src="{{ asset('assets/img/del.png') }}" height="20px"></a>
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
		<p>
			<a href="{{ path('remove_panier') }}" class="btn btn-danger">Vider le panier</a>
		</p>
	{% else %}
		<p class="text-center">
			Vous n'avez pas de BD dans votre panier
		</p>
	{% endif %}
{% endblock %}
